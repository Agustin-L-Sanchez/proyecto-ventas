;/*FB_PKG_DELIM*/

__d("PolarisPostMobileComment_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisPostMobileComment_comment",selections:[{alias:null,args:null,kind:"ScalarField",name:"created_at",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_liked_comment",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"has_translation",storageKey:null},{args:null,kind:"FragmentSpread",name:"PolarisCommentLikeButton_comment"},{args:null,kind:"FragmentSpread",name:"PolarisCommentReplyButton_comment"},{args:null,kind:"FragmentSpread",name:"PolarisPostChildComments_comment"},{args:null,kind:"FragmentSpread",name:"PolarisPostCommentContent_comment"},{args:null,kind:"FragmentSpread",name:"PolarisPostCommentAvatar_comment"},{args:null,kind:"FragmentSpread",name:"PolarisCommentLikeCount_comment"},{args:null,kind:"FragmentSpread",name:"usePolarisCommentLike_comment"},{args:null,kind:"FragmentSpread",name:"usePolarisCommentUnlike_comment"},{args:null,kind:"FragmentSpread",name:"usePolarisPostCommentState_comment"},{args:null,kind:"FragmentSpread",name:"PolarisPostCommentViewpoint_comment"},{args:null,kind:"FragmentSpread",name:"useShowCommentOptionsModal_comment"}],type:"XDTCommentDict",abstractKey:null};e.exports=a}),null);
__d("PolarisCommentLikeCount_comment.graphql",[],(function(a,b,c,d,e,f){"use strict";a={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"PolarisCommentLikeCount_comment",selections:[{kind:"RequiredField",field:{alias:null,args:null,kind:"ScalarField",name:"pk",storageKey:null},action:"THROW",path:"pk"},{alias:null,args:null,kind:"ScalarField",name:"comment_like_count",storageKey:null}],type:"XDTCommentDict",abstractKey:null};e.exports=a}),null);
__d("PolarisCommentLikeCount.react",["CometRelay","IGDSBox.react","IGDSText.react","PolarisCommentLikeCount_comment.graphql","PolarisFastLink.react","react","usePolarisCommentLikeCountString"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j=h!==void 0?h:h=b("PolarisCommentLikeCount_comment.graphql");function a(a){var b=a.mediaId;a=a.queryRefrence;a=d("CometRelay").useFragment(j,a);var e=c("usePolarisCommentLikeCountString")(a.comment_like_count);return e==null?null:i.jsx(c("IGDSBox.react"),{marginStart:4,children:i.jsx(c("PolarisFastLink.react"),{href:"/p/"+b+"/c/"+a.pk+"/liked_by/",children:i.jsx(c("IGDSText.react").Body2Emphasized,{color:"secondaryText",children:e})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisLongPress.react",["cx","Keys","PolarisDOMListener.react","PolarisUA","react"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect,l=b.useRef,m=750;function a(a){var b=a.children,e=a.onLongPress,f=l(),g=function(){f.current=window.setTimeout(e,m)},h=j(function(){window.clearTimeout(f.current)},[]);a=function(a){(a.keyCode===c("Keys").SPACE||a.keyCode===c("Keys").RETURN)&&g()};var n=function(a){(a.keyCode===c("Keys").SPACE||a.keyCode===c("Keys").RETURN)&&h()},o=function(a){a.preventDefault();a.stopPropagation();return!1};k(function(){return function(){h()}},[h]);return i.jsxs("div",{className:"_ac6x"+(d("PolarisUA").isTouchDevice()?" _ac6y":""),onContextMenu:o,onKeyDown:a,onKeyUp:n,onScroll:h,onTouchEnd:h,onTouchStart:g,role:"button",tabIndex:"0",children:[i.jsx(c("PolarisDOMListener.react"),{event:"onscroll",handler:h,target:window}),i.jsx(c("PolarisDOMListener.react"),{event:"touchmove",handler:h,target:window}),b]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("PolarisPostMobileComment.next.react",["CometRelay","IGDSBox.react","IGDSText.react","PolarisCommentLikeButton.next.react","PolarisCommentLikeCount.react","PolarisCommentReplyButton.react","PolarisCommentTranslationPrompt.next.react","PolarisDoubleTappable","PolarisLongPress.react","PolarisPostChildComments.next.react","PolarisPostCommentAvatar.react","PolarisPostCommentContent.next.react","PolarisPostCommentViewpoint.react","PolarisPostMobileComment_comment.graphql","PolarisTimestamp.react","react","stylex","usePolarisCommentLike","usePolarisCommentUnlike","usePolarisPostCommentState","useShowCommentOptionsModal"],(function(a,b,c,d,e,f,g){"use strict";var h,i=d("react"),j={avatar:{marginEnd:"x1emribx",$$css:!0},captionContainer:{paddingEnd:"x1pi30zi",$$css:!0},childCommentsContainer:{marginStart:"x540dpk",$$css:!0},commentContainer:{paddingStart:"xurb0ha",$$css:!0},likeButton:{paddingBottom:"xwib8y2",$$css:!0}},k=h!==void 0?h:h=b("PolarisPostMobileComment_comment.graphql");function a(a){var b=a.isCaption,e=b===void 0?!1:b,f=a.mediaCode,g=a.mediaId,h=a.mediaOwnerId;b=a.queryReference;var l=d("CometRelay").useFragment(k,b),m=c("usePolarisCommentLike")(l),n=c("usePolarisCommentUnlike")(l),o=l.created_at;a=c("usePolarisPostCommentState")(l);var p=a.isParentComment,q=a.setShowReplies,r=a.setShowTranslatedText,s=a.setTranslatedText,t=a.showReplies,u=a.showTranslatedText,v=a.translatedText,w=function(){if(e)return;l.has_liked_comment===!0?n():m()},x=c("useShowCommentOptionsModal")({mediaId:g,mediaOwnerId:h,queryReference:l});return i.jsx(c("PolarisPostCommentViewpoint.react"),{mediaId:g,mediaOwnerId:h,queryReference:l,children:function(a){return i.jsx(c("PolarisLongPress.react"),{onLongPress:function(){e||x()},children:i.jsxs("div",{className:c("stylex")(j.commentContainer,e&&j.captionContainer),ref:a,children:[i.jsxs(c("IGDSBox.react"),{direction:"row",display:"flex",paddingY:3,children:[i.jsx("div",{className:"x1emribx",children:i.jsx(c("PolarisPostCommentAvatar.react"),{comment:l})}),i.jsx(c("IGDSBox.react"),{direction:"row",display:"flex",flex:"grow",children:i.jsxs(c("IGDSBox.react"),{direction:"column",display:"flex",flex:"grow",children:[i.jsx(d("PolarisDoubleTappable").DoubleTappable,{onDoubleClick:w,role:"button",children:i.jsx(c("PolarisPostCommentContent.next.react"),{comment:l,isInlineComment:!0,mediaCode:f,showRestrictedContent:!1,showTranslatedText:u,showVerifiedBadge:!0,translatedText:v})}),i.jsxs(c("IGDSBox.react"),{alignItems:"center",direction:"row",display:"flex",height:16,marginTop:1,children:[i.jsx(c("IGDSText.react").Body2,{color:"secondaryText",children:i.jsx(c("PolarisTimestamp.react"),{value:Number(o)})}),!e&&i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisCommentLikeCount.react"),{mediaId:g,queryRefrence:l}),i.jsx(d("PolarisCommentReplyButton.react").PolarisCommentReplyButton,{commentFragment:l,mediaId:g})]}),i.jsx(c("PolarisCommentTranslationPrompt.next.react"),{hasTranslation:l.has_translation,id:l.pk,isCaption:e,setShowTranslatedText:r,setTranslatedText:s,showTranslatedText:u,translatedTextExists:v!=null})]})]})}),!e&&i.jsx(c("IGDSBox.react"),{alignItems:"center",direction:"column",display:"flex",justifyContent:"center",paddingX:4,children:i.jsx(c("PolarisCommentLikeButton.next.react"),{color:"ig-secondary-icon",isLarge:!1,queryReference:l,size:12,xstyle:j.likeButton})})]}),p&&!e?i.jsx(c("IGDSBox.react"),{xstyle:j.childCommentsContainer,children:i.jsx(c("PolarisPostChildComments.next.react"),{mediaCode:f,mediaId:g,mediaOwnerId:h,parentCommentQueryRef:l,setShowReplies:q,showReplies:t})}):null]})})}})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);